## 정규화 단계 (1NF ~ 5NF)

정규화가 진행될수록 데이터 중복과 이상 현상은 줄지만, 테이블 수는 늘어나 JOIN 비용이 증가합니다.

1. 제1정규화 (1NF)

- 모든 속성은 원자값(Atomic Value)만 가져야 함.
- 즉, 컬럼 안에 반복 데이터나 배열, 복합값이 있으면 안 됨.

2. 제2정규화 (2NF)

- 1NF 만족 + 부분 함수 종속 제거.
- 복합키의 일부분에만 종속된 컬럼을 제거하여 별도 테이블로 분리.

3. 제3정규화 (3NF)

- 2NF 만족 + 이행 함수 종속 제거.
- 기본키가 아닌 다른 컬럼에 종속된 컬럼을 분리.

4. 제4정규화 (4NF)

- 다치 종속(Multi-valued Dependency) 제거.
  > 다치 종속 (Multi-valued Dependency):
  > 같은 테이블 내의 독립적인 두 개 이상의 컬럼이 또 다른 컬럼에 종속되는 것.
  > 다치 종속은 최소 2개의 컬럼이 다른 컬럼에 종속되어야 하기 때문에 최소 3개의 컬럼이 필요.
- 한 테이블에서 독립적인 다중 값 종속 관계가 있으면 별도 테이블로 나눔.

+) 5. 제5정규화 (5NF)

- 4NF를 만족 + 조인 종속을 제거.
  > 조인 종속:
  > 하나의 릴레이션을 여러개의 릴레이션으로 분해하였다가, 다시 조인했을 때 데이터 손실이 없고 필요없는 데이터가 생기는 것.
- 더이상 비손실 분해 할 수 없어야 함.

---

쉬운 정리

> 예시: 동네 헬스장

제 1정규화

**"한 칸엔 하나의 데이터만"**

> 회원 번호, 회원 이름, 나이, 프로그램, 납부 여부

제 2 정규화

**"현재 테이블의 주제와 관련없는 컬럼을 다른 테이블로 빼는 작업"**
= partial dependency를 제거한 테이블

```
composite primary key = 합하면 primary key 역할을 할 수 있는 키 (예시: 회원 번호 + 프로그램)

partial dependency = 하나의 composite primary key에 종속 (예시: 프로그램 가격)
```

> 프로그램 가격 table 분리
> 장점: 수정 편리
> 단점: 조회시 다른 테이블도 조회해야 함

제 3정규화

**"일반 컬럼에만 종속된 컬럼은 다른 테이블로 빼기"**

> 잔챙이 컬럼에만 종속된 컬럼 다른 테이블로 분리
> 장점: 수정 편리
> 단점: 조회시 다른 테이블도 조회해야 함
> RDB는 보통 제 3정규화까지 하는 경우가 많음

---

[참고]

https://www.youtube.com/watch?v=Y1FbowQRcmI&t=1s

https://velog.io/@wisdom-one/%EC%A0%95%EA%B7%9C%ED%99%94Normalization
