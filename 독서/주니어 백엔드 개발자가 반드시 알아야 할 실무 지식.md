최범균, 『주니어 백엔드 개발자가 반드시 알아야 할 실무 지식』, 한빛미디어(2025)

> 책을 읽은 이유: 1인 개발을 하며 혼자 다 만들면서 궁금한 점이 많았음,
> 백엔드를 Supabase 같은 BaaS을 사용해도 DB를 다루고, 응답 시간 최적화할 일 등 많은 일들이 생김,
> 지식 구멍을 채우기 위해, 개발 전반과 백엔드 개발에 대한 이해를 높이기 위해 읽음
>
> 후기: 추천, 실제로 실무에서 유용할 지식들이 어렵지 않게 설명되어 있고 2025년 신간이라 최신 정보 반영
> 주변 백엔드 개발자 주니어에게 선물하고 싶은 책. 혹은 나같이 혼자 0->1 만드는 사람들 중 이해를 높이고 싶다면 추천.

# 10장. 모르면 답답해지는 네트워크 기초

## 네트워크와 라우터

노드: 데이터를 송신하는 모든 장치 (핸드폰, 노트북, 서버 장비 등)
네트워크: 각 노드가 서로 데이터를 주고받기 위해 연결된 시스템

> 패킷: 네트워크를 통해 전송되는 데이터의 단위
>
> - 헤더: 패킷의 발신자, 수신자 정보 포함
> - 페이로드: 데이터 (일정 크기를 가진 여러 패킷으로 나뉘어 전송)

가정에서 하나의 공유기로 연결된 휴대폰이나 컴퓨터는 하나의 네트워크를 구성.

서로 다른 네트워크에 속한 노드는 직접 연결해서 패킷 송수신 불가
-> 이때 사용하는 것이 라우터
**라우터: 네트워크 간에 패킷을 전송하는 역할**

휴대폰 앱에서 서버에 연결하면 여러 라우터를 거쳐 최종적으로 패킷이 전송됨.
각 라우터는 목적지 노드의 주소에 따라 알맞은 다음 라우터를 선택해 데이터를 전송.

## IP 주소와 도메인

IP 주소: 네트워크에서 각 노드를 구분하기 위해 사용하는 주소
-> 현재 일반적으로 IPv4 사용 (223.130.192.248 같이 1바이트(8비트) 4개 숫자 블록으로 구성 -> 총 32비트 -> 약 43억 개 고유 주소, 각 숫자 0 ~ 255 / IPv6 -> 총 128비트)

DNS: 도메인 이름과 IP 주소로 변환하는 체계, 인터넷 전화번호부
도메인 이름 -> 계층 구조, 오른쪽 상위 계층, 왼쪽 하위 계층

과정:

> localhost: 127.0.0.1, loopback 주소로서 자기 자신을 참조할 때 사용하는 IP 주소

> 리눅스 /etc dir에 hosts 파일 존재, 호스트 이름과 IP 주소를 매핑 정의한 파일, 도메인 서버보다 우선순위 상
> 도메인에 매핑되는 IP 주소는 여러개일 수 잇음, 부하 분산에 이용

많은 서버는 바뀌지 않는 고정 IP 사용
동적 IP -> 노드가 네트워크에 연결할 때마다 IP 할당, DHCP 서버를 통해 제공받는다.
인터넷 연결시 IP 주소, 게이트웨이 주소, 서브넷 마스크, DNS 서버 주소를 설정해야 하는데 DHCP 서버가 이를 모두 제공.
가정 공유기 주로 동적 IP 사용.

> DHCP 서버에 따라 일정 시간 동안 동일한 IP를 할당할 때도 있음
> 보안이 중요한 곳은 IP로 사용자를 식별하기 위해 노드마다 IP를 고정해서 할당하기도 함.

공인(공용) IP: 인터넷에 접속하는 모든 네트워크에 적용되는 주소
사설 IP: 특정 네트워크에 속한 노드에 할당하는 주소

### NAT

Network Address Translation(네트워크 주소 변환): 네트워크 주소를 변환하는 기술
: 주로 인터넷에 연결된 라우터 같은 네트워크 장비가 변환, 인터넷에 연결하려면 내부에서 사용하는 사설 IP와 인터넷에서 사용하는 공인 IP 주소 간의 변환이 필요한데 이를 담당.

SNAT(Source NAT): 내부 네트워크에서 나가는 사설 IP를 공인 IP로 변환.

DNAT(Destination NAT): 공인 IP로 들어온 패킷의 목적지를 사설 IP로 변환, 서버 구성시 사용.

일반적으로 네트워크 구성시 보안, 이중화 등을 고려해 서버 노드는 공인 IP가 아닌 사설 IP 주소를 갖는다.
공인 IP 주소는 네트워크 연결을 관리하는 라우터, 방화벽 등의 장비에 할당.
해당 장비는 DNAT을 이용해 공인 IP로 들어온 패킷을 사설 IP를 가진 서버 노드에 전송.

### VPN

> 가상의 사설 네트워크,
> 서버 운영시 서버 네트워크에 구성된 노드에 안전하게 접근시 활용.

인터넷과 같은 공용 네트워크에서 서로 다른 네트워크 간에 암호화된 연결을 제공.
VPN을 통해 두 네트워크는 마치 하나의 사설 네트워크에 존재하는 것처럼 연결될 수 있음.

### 프로토콜

**프로토콜: 네트워크 상에서 두 노드가 데이터를 주고받기 위해 정의한 규칙**

TCP: HTTP, SMTP 등
UDP: DNS, VoIP, 게임 등

TCP는 신뢰성이 있지만 느리고, UDP는 빠르지만 신뢰성이 없음
-> 이 둘의 장점을 합쳐 개발된 프로토콜: QUIC

QUIC

- TCP와 달리 TLS를 통합해 연결 과정 단축
- 멀티플렉싱 지원 (한 연결에서 여러 스트림 동시 처리 가능, HOL 블로킹 문제 해결)

> HTTP/3 구성
>
> - QUIC (TLS 통합)
> - UDP
> - IP
